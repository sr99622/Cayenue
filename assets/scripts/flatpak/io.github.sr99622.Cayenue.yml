
id: io.github.sr99622.Cayenue
runtime: org.freedesktop.Platform
runtime-version: '25.08'
sdk: org.freedesktop.Sdk
command: launch_cayenue
finish-args:
  - --socket=wayland
  - --socket=fallback-x11
  - --share=ipc
  - --share=network
  - --device=all
  - --device=dri
  - --socket=pulseaudio
  - --filesystem=xdg-videos:rw
  - --filesystem=xdg-pictures:rw
  - --env=LEVEL_ZERO_DISABLE_SYSTEM=1

modules:

  - name: launch_cayenue
    buildsystem: simple
    build-commands:
      - install -Dm755 launch_cayenue.sh /app/bin/launch_cayenue
    sources:
      - type: script
        dest-filename: launch_cayenue.sh
        commands:
          - export LD_LIBRARY_PATH=/app/usr/local/lib:/app/usr/lib/x86_64-linux-gnu:/app/lib
          - export OCL_ICD_VENDORS=/app/etc/OpenCL/vendors
          - cayenue
        only-arches: [x86_64]
      - type: script
        dest-filename: launch_cayenue.sh
        commands:
          - cayenue
        only-arches: [aarch64]

  - name: cayenue
    buildsystem: simple
    build-commands:
      - pip3 install --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} cayenue --no-build-isolation
      - install -Dm644 io.github.sr99622.Cayenue.desktop -t /app/share/applications
      - install -Dm644 io.github.sr99622.Cayenue.metainfo.xml -t /app/share/metainfo
      - install -Dm644 io.github.sr99622.Cayenue.png -t /app/share/icons/hicolor/256x256/apps
      
    sources:
      - type: file
        path: io.github.sr99622.Cayenue.desktop
      - type: file
        path: io.github.sr99622.Cayenue.metainfo.xml
      - type: file
        path: io.github.sr99622.Cayenue.png
      #- type: file
      #  path: cayenue-1.0.7-py3-none-any.whl
      - type: file
        url: https://files.pythonhosted.org/packages/a0/19/874de47f4b2172143b6be8e656f672447d896ab8422541524026169a7bae/cayenue-1.0.7-py3-none-any.whl
        sha256: e11ecb536fa24e50c02d155e119df041f80188bfbb4d99145f5849a84c87a934
        x-checker-data:
          type: pypi
          name: cayenue
      - type: file
        url: https://files.pythonhosted.org/packages/64/d5/1daf65654eeeb665ba49d92f846a1d48655b870ceb45b3b83db7e9d217bd/avio-3.2.7-cp313-cp313-manylinux_2_35_x86_64.whl
        sha256: 33918af7a49557b97245c7d2ae541a9a23819131ebb7397eff30c15ad825d6ab
        x-checker-data:
          type: pypi
          name: avio
        only-arches: [x86_64]
      - type: file
        url: https://files.pythonhosted.org/packages/fe/73/b08e5d16d57ad677da08930dd0525488964f520611d219cb733b0206c153/avio-3.2.7-cp313-cp313-manylinux_2_28_aarch64.whl
        sha256: 2b7637fba2b8a5c03156e3b865a4bc374cb53a31e76117d213dde0c536a39182
        x-checker-data:
          type: pypi
          name: avio
        only-arches: [aarch64]
      - type: file
        url: https://files.pythonhosted.org/packages/c3/c7/8181535b69c4ec357046f1b273454e64f4a7892c065fdc4dac0c9cbb82a6/kankakee-1.0.4-cp313-cp313-manylinux_2_34_x86_64.whl
        sha256: 4cf8001b3eafc83372060b9ee01f85656b06295e4005c26cce2d72874bdc4d12
        x-checker-data:
          type: pypi
          name: kankakee
        only-arches: [x86_64]
      - type: file
        url: https://files.pythonhosted.org/packages/a7/3a/5d787b5747f8d6a6873452027d6f02797e23bbfc34d614c45e7764cb6dad/kankakee-1.0.4-cp313-cp313-manylinux_2_28_aarch64.whl
        sha256: faa2c3d14bf4539952157f92acfaad8d3fcddf3efe76910bb0e009c17d14355b
        x-checker-data:
          type: pypi
          name: kankakee
        only-arches: [aarch64]
      - type: file
        url: https://files.pythonhosted.org/packages/f2/2a/5654ff35452869f157a87f24bd2ed6a4ffd51d3e8d6bca2aae553b697f57/libonvif-3.2.8-cp313-cp313-manylinux_2_34_x86_64.whl
        sha256: 66821fed29669d6188171f7b242d20884271fb57ad6ab010722ac06e300b52bf
        x-checker-data:
          type: pypi
          name: libonvif
        only-arches: [x86_64]
      - type: file
        url: https://files.pythonhosted.org/packages/f4/c6/d172a0db738ec5c667148cef8cb6abed23bbeeba8cebd8783d94a1605408/libonvif-3.2.8-cp313-cp313-manylinux_2_26_aarch64.whl
        sha256: 35f1a373589504ee9b3dfa9db251431d441c33fe3318c6673f0c6ec8d00bde79
        x-checker-data:
          type: pypi
          name: libonvif
        only-arches: [aarch64]
      - type: file
        url: https://files.pythonhosted.org/packages/4a/7e/3db2bd1b1f9e95f7cddca6d6e75e2f2bd9f51b1246e546d88addca0106bd/certifi-2025.4.26-py3-none-any.whl
        sha256: 30350364dfe371162649852c63336a15c70c6510c2ad5015b21c2345311805f3
        x-checker-data:
          type: pypi
          name: certifi
      - type: file
        url: https://files.pythonhosted.org/packages/f5/83/6ab5883f57c9c801ce5e5677242328aa45592be8a00644310a008d04f922/charset_normalizer-3.4.4-cp313-cp313-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl
        sha256: a8a8b89589086a25749f471e6a900d3f662d1d3b6e2e59dcecf787b1cc3a1894
        x-checker-data:
          type: pypi
          name: charset-normalizer
        only-arches: [x86_64]
      - type: file
        url: https://files.pythonhosted.org/packages/7d/62/73a6d7450829655a35bb88a88fca7d736f9882a27eacdca2c6d505b57e2e/charset_normalizer-3.4.4-cp313-cp313-manylinux2014_aarch64.manylinux_2_17_aarch64.manylinux_2_28_aarch64.whl
        sha256: 6b39f987ae8ccdf0d2642338faf2abb1862340facc796048b604ef14919e55ed
        x-checker-data:
          type: pypi
          name: charset-normalizer
        only-arches: [aarch64]
      - type: file
        url: https://files.pythonhosted.org/packages/20/94/c5790835a017658cbfabd07f3bfb549140c3ac458cfc196323996b10095a/charset_normalizer-3.4.2-py3-none-any.whl
        sha256: 7f56930ab0abd1c45cd15be65cc741c28b1c9a34876ce8c17a2fa107810c0af0
        x-checker-data:
          type: pypi
          name: charset-normalizer
      - type: file
        url: https://files.pythonhosted.org/packages/0c/29/0348de65b8cc732daa3e33e67806420b2ae89bdce2b04af740289c5c6c8c/loguru-0.7.3-py3-none-any.whl
        sha256: 31a33c10c8e1e10422bfd431aeb5d351c7cf7fa671e3c4df004162264b28220c
        x-checker-data:
          type: pypi
          name: loguru
      - type: file
        url: https://files.pythonhosted.org/packages/19/49/4df9123aafa7b539317bf6d342cb6d227e49f7a35b99c287a6109b13dd93/numpy-2.2.6-cp313-cp313-manylinux_2_17_x86_64.manylinux2014_x86_64.whl
        sha256: 1bc23a79bfabc5d056d106f9befb8d50c31ced2fbc70eedb8155aec74a45798f
        x-checker-data:
          type: pypi
          name: numpy
        only-arches: [x86_64]
      - type: file
        url: https://files.pythonhosted.org/packages/85/c5/e19c8f99d83fd377ec8c7e0cf627a8049746da54afc24ef0a0cb73d5dfb5/numpy-2.2.6-cp313-cp313-manylinux_2_17_aarch64.manylinux2014_aarch64.whl
        sha256: f92729c95468a2f4f15e9bb94c432a9229d0d50de67304399627a943201baa2f
        x-checker-data:
          type: pypi
          name: numpy
        only-arches: [aarch64]
      - type: file
        url: https://files.pythonhosted.org/packages/89/53/e19c21e0c4eb1275c3e2c97b081103b6dfb3938172264d283a519bf728b9/opencv_python_headless-4.12.0.88-cp37-abi3-manylinux2014_x86_64.manylinux_2_17_x86_64.whl
        sha256: 236c8df54a90f4d02076e6f9c1cc763d794542e886c576a6fee46ec8ff75a7a9
        x-checker-data:
          type: pypi
          name: opencv_python_headless
        only-arches: [x86_64]
      - type: file
        url: https://files.pythonhosted.org/packages/69/4e/116720df7f1f7f3b59abc608ca30fbec9d2b3ae810afe4e4d26483d9dfa0/opencv_python_headless-4.12.0.88-cp37-abi3-manylinux2014_aarch64.manylinux_2_17_aarch64.whl
        sha256: aeb4b13ecb8b4a0beb2668ea07928160ea7c2cd2d9b5ef571bbee6bafe9cc8d0
        x-checker-data:
          type: pypi
          name: opencv_python_headless
        only-arches: [aarch64]
      - type: file
        url: https://files.pythonhosted.org/packages/20/12/38679034af332785aac8774540895e234f4d07f7545804097de4b666afd8/packaging-25.0-py3-none-any.whl
        sha256: 29572ef2b1f17581046b3a2227d5c611fb25ec70ca1ba8554b24b0e69331a484
        x-checker-data:
          type: pypi
          name: packaging
      - type: file
        url: https://files.pythonhosted.org/packages/ec/3e/9a015651ec71cea2e2f960c37edeb21623ba96a74956c0827def837f7c6b/pyqt6-6.10.2-cp39-abi3-manylinux_2_34_x86_64.whl
        sha256: 78e1b3d5763e4cbc84485aef600e0aba5e1932fd263b716f92cd1a40dfa5e924
        x-checker-data:
          type: pypi
          name: PyQt6
        only-arches: [x86_64]
      - type: file
        url: https://files.pythonhosted.org/packages/51/74/a88fec2b99700270ca5d7dc7d650236a4990ed6fc88e055ca0fc8a339ee3/pyqt6-6.10.2-cp39-abi3-manylinux_2_39_aarch64.whl
        sha256: bbc3af541bbecd27301bfe69fe445aa1611a9b490bd3de77306b12df632f7ec6
        x-checker-data:
          type: pypi
          name: PyQt6
        only-arches: [aarch64]
      - type: file
        url: https://files.pythonhosted.org/packages/f4/7e/9867361252e2a4717dba95c64a0f3a793603f4a52cb9a46abbb041e960f5/pyqt6_qt6-6.10.1-py3-none-manylinux_2_34_x86_64.whl
        sha256: 04069aea421703b1269c8a1bcf017e36463af284a044239a4ebda3bde0a629fb
        x-checker-data:
          type: pypi
          name: PyQt6_Qt6
        only-arches: [x86_64]
      - type: file
        url: https://files.pythonhosted.org/packages/9b/7b/18f4eb2273a92283fe4d87aa740a400eb14a4e41b8f990aaf563e9767db6/pyqt6_qt6-6.10.1-py3-none-manylinux_2_39_aarch64.whl
        sha256: 5b9be39e0120e32d0b42cdb844e3ae110ddadd39629c991e511902c06f155aff
        x-checker-data:
          type: pypi
          name: PyQt6_Qt6
        only-arches: [aarch64]
      - type: file
        url: https://files.pythonhosted.org/packages/0e/38/27c3aa3f153fcd83a0765fedf8e44a1136f189a322bcc9c494c5b3793cd7/pyqt6_sip-13.11.0-cp313-cp313-manylinux1_x86_64.manylinux_2_5_x86_64.whl
        sha256: a75144e8a0bcf9d1a9069011890401748af353749f1de1b6a314b880781edf9d
        x-checker-data:
          type: pypi
          name: PyQt6_sip
        only-arches: [x86_64]
      - type: file
        url: https://files.pythonhosted.org/packages/6f/ac/1053ffce45e4174f0a8174557b88537aa82bf96ba03c7dd208c59de36f69/pyqt6_sip-13.11.0-cp313-cp313-manylinux_2_17_aarch64.manylinux2014_aarch64.whl
        sha256: 8082b5f57ffad5dddf5efcf0ef5eaf94841395aa4e7c374c79ef24cf49b0f0ce
        x-checker-data:
          type: pypi
          name: PyQt6_sip
        only-arches: [aarch64]
      - type: file
        url: https://files.pythonhosted.org/packages/f9/9b/335f9764261e915ed497fcdeb11df5dfd6f7bf257d4a6a2a686d80da4d54/requests-2.32.3-py3-none-any.whl
        sha256: 70761cfe03c773ceb22aa2f671b4757976145175cdfca038c02654d061d6dcc6
        x-checker-data:
          type: pypi
          name: requests
      - type: file
        url: https://files.pythonhosted.org/packages/42/54/2a8ecfcc9a714a6fbf86559a4b0f50b126a4ac4269ea8134f2c75c3e73de/setuptools-70.2.0-py3-none-any.whl
        sha256: b8b8060bb426838fbe942479c90296ce976249451118ef566a5a0b7d8b78fb05
        x-checker-data:
          type: pypi
          name: setuptools
      - type: file
        url: https://files.pythonhosted.org/packages/6b/11/cc635220681e93a0183390e26485430ca2c7b5f9d33b15c74c2861cb8091/urllib3-2.4.0-py3-none-any.whl
        sha256: 4e16665048960a0900c702d4a66415956a584919c03361cac9f1df5c5dd7e813
        x-checker-data:
          type: pypi
          name: urllib3
      - type: file
        url: https://files.pythonhosted.org/packages/76/c6/c88e154df9c4e1a2a66ccf0005a88dfb2650c1dffb6f5ce603dfbd452ce3/idna-3.10-py3-none-any.whl
        sha256: 946d195a0d259cbba61165e88e65941f16e9b36ea6ddb97f00452bae8b1287d3
        x-checker-data:
          type: pypi
          name: idna

  - name: intel-opencl
    only-arches: [x86_64]
    buildsystem: simple
    build-commands:
      - pip3 install --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} \
        torch-2.9.1%2Bcpu-cp313-cp313-manylinux_2_28_x86_64.whl \
        torchvision-0.24.1%2Bcpu-cp313-cp313-manylinux_2_28_x86_64.whl \
        openvino --no-build-isolation
      - ar x intel-igc-core-2_2.24.8+20344_amd64.deb
      - tar -xvf data.tar.gz -C /app
      - ar x intel-igc-opencl-2_2.24.8+20344_amd64.deb
      - tar -xvf data.tar.gz -C /app
      - ar x intel-ocloc_25.48.36300.8-0_amd64.deb
      - tar -xvf data.tar.zst -C /app
      - ar x intel-opencl-icd_25.48.36300.8-0_amd64.deb
      - tar -xvf data.tar.zst -C /app
      - ar x libigdgmm12_22.8.2_amd64.deb
      - tar -xvf data.tar.zst -C /app
      - ar x libze-intel-gpu1_25.48.36300.8-0_amd64.deb
      - tar -xvf data.tar.zst -C /app
      - install -Dm644 intel.icd -t /app/etc/OpenCL/vendors

    sources:
      - type: file
        path: intel.icd
      - type: file
        url: https://github.com/intel/compute-runtime/releases/download/25.48.36300.8/intel-ocloc_25.48.36300.8-0_amd64.deb
        sha256: 15a4b977d375581b3bc14ae67f76a8c3b379d1f0f7ba9ff813aeb8d207f3feb6
      - type: file
        url: https://github.com/intel/compute-runtime/releases/download/25.48.36300.8/intel-opencl-icd_25.48.36300.8-0_amd64.deb
        sha256: a23952b5cd05cba80b195d7668bedfcc9a51040f3339b88a78c9fdf6c9bb7486
      - type: file
        url: https://github.com/intel/compute-runtime/releases/download/25.48.36300.8/libigdgmm12_22.8.2_amd64.deb
        sha256: fa66d2debfb5674bccdf26795d8903019aa5ef65a9c179059b72c8e964d69f58
      - type: file
        url: https://github.com/intel/compute-runtime/releases/download/25.48.36300.8/libze-intel-gpu1_25.48.36300.8-0_amd64.deb
        sha256: 23e0987c9a0fedcb4ac1fe1de43954df4e4d827b3f7d0d9801ae21cdb2e0ee17
      - type: file
        url: https://github.com/intel/intel-graphics-compiler/releases/download/v2.24.8/intel-igc-core-2_2.24.8+20344_amd64.deb
        sha256: a701b03553f42111e6790cfd1bf9bdf7e7c2106b2489083892be338b51688ed7
      - type: file
        url: https://github.com/intel/intel-graphics-compiler/releases/download/v2.24.8/intel-igc-opencl-2_2.24.8+20344_amd64.deb
        sha256: 670d3c8d0073b90ef5cc9f10d42b4bc86c08985aa5f7617b81006d7598d543c7
      - type: file
        url: https://files.pythonhosted.org/packages/d7/76/099c34ac7563a350325efe6dbc91b5cc20f0aa2331a6e036f2da262bab57/openvino-2025.4.1-20426-cp313-cp313-manylinux2014_x86_64.whl
        sha256: 68f8d6cfd74c7a74d68a62c8156830ddaa5b9f1f782d3643def83f659c0a6671
        x-checker-data:
          type: pypi
          name: openvino
      - type: file
        url: https://files.pythonhosted.org/packages/3b/ac/5ab0ca0aa269ad3c73f7bfc3801b10e5f56f75a31bf68c1ae8bd51cf70a4/openvino_telemetry-2025.2.0-py3-none-any.whl
        sha256: bcb667e83a44f202ecf4cfa49281715c6d7e21499daec04ff853b7f964833599
        x-checker-data:
          type: pypi
          name: openvino-telemetry
      - type: file
        url: https://download.pytorch.org/whl/cpu/torch-2.9.1%2Bcpu-cp313-cp313-manylinux_2_28_x86_64.whl
        sha256: 39b3dff6d8fba240ae0d1bede4ca11c2531ae3b47329206512d99e17907ff74b
        x-checker-data:
          type: pypi
          name: torch
      - type: file
        url: https://download.pytorch.org/whl/cpu/torchvision-0.24.1%2Bcpu-cp313-cp313-manylinux_2_28_x86_64.whl
        sha256: 19eb1744686a992522bf9ab8bf4b3245c2202e93a39b1fe1fcb2b8d2ca982048
        x-checker-data:
          type: pypi
          name: torchvision
      - type: file
        url: https://files.pythonhosted.org/packages/38/57/755dbd06530a27a5ed74f8cb0a7a44a21722ebf318edbe67ddbd7fb28f88/pillow-12.0.0-cp313-cp313-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl
        sha256: f4f1231b7dec408e8670264ce63e9c71409d9583dd21d32c163e25213ee2a344
        x-checker-data:
          type: pypi
          name: pillow
      - type: file
        url: https://files.pythonhosted.org/packages/96/ec/2102e881fe9d25fc16cb4b25d5f5cde50970967ffa5dddafdb771237062d/markupsafe-3.0.3-cp313-cp313t-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl
        sha256: 8709b08f4a89aa7586de0aadc8da56180242ee0ada3999749b183aa23df95025
        x-checker-data:
          type: pypi
          name: MarkupSafe
      - type: file
        url: https://files.pythonhosted.org/packages/81/54/84d42a0bee35edba99dee7b59a8d4970eccdd44b99fe728ed912106fc781/filelock-3.13.1-py3-none-any.whl
        sha256: 57dbda9b35157b05fb3e58ee91448612eb674172fab98ee235ccb0b5bee19a1c
        x-checker-data:
          type: pypi
          name: filelock
      - type: file
        url: https://files.pythonhosted.org/packages/5e/44/73bea497ac69bafde2ee4269292fa3b41f1198f4bb7bbaaabde30ad29d4a/fsspec-2024.6.1-py3-none-any.whl
        sha256: 3cb443f8bcd2efb31295a5b9fdb02aee81d8452c80d28f97a6d0959e6cee101e
        x-checker-data:
          type: pypi
          name: fsspec
      - type: file
        url: https://files.pythonhosted.org/packages/31/80/3a54838c3fb461f6fec263ebf3a3a41771bd05190238de3486aae8540c36/jinja2-3.1.4-py3-none-any.whl
        sha256: bc5dd2abb727a5319567b7a813e6a2e7318c39f4f487cfe6c89c6f9c7d25197d
        x-checker-data:
          type: pypi
          name: Jinja2
      - type: file
        url: https://files.pythonhosted.org/packages/26/9f/ad63fc0248c5379346306f8668cda6e2e2e9c95e01216d2b8ffd9ff037d0/typing_extensions-4.12.2-py3-none-any.whl
        sha256: 04e5ca0351e0f3f85c6853954072df659d0d13fac324d0072316b67d7794700d
        x-checker-data:
          type: pypi
          name: typing_extensions
      - type: file
        url: https://files.pythonhosted.org/packages/99/ff/c87e0622b1dadea79d2fb0b25ade9ed98954c9033722eb707053d310d4f3/sympy-1.13.3-py3-none-any.whl
        sha256: 54612cf55a62755ee71824ce692986f23c88ffa77207b30c1368eda4a7060f73
        x-checker-data:
          type: pypi
          name: sympy
      - type: file
        url: https://files.pythonhosted.org/packages/38/e9/5f72929373e1a0e8d142a130f3f97e6ff920070f87f91c4e13e40e0fba5a/networkx-3.3-py3-none-any.whl
        sha256: 28575580c6ebdaf4505b22c6256a2b9de86b316dc63ba9e93abde3d78dfdbcf2
        x-checker-data:
          type: pypi
          name: networkx
      - type: file
        url: https://files.pythonhosted.org/packages/43/e3/7d92a15f894aa0c9c4b49b8ee9ac9850d6e63b03c9c32c0367a13ae62209/mpmath-1.3.0-py3-none-any.whl
        sha256: a0b2b9fe80bbcd81a6647ff13108738cfb482d481d826cc0e02f5b35e5c88d2c
        x-checker-data:
          type: pypi
          name: mpmath
